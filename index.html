
<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Body-Fit AI — Technical Architecture Documentation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            deep: '#0a0a0f',
            surface: '#12121a',
            'surface-2': '#1a1a24',
            border: '#2a2a38',
            accent: '#00d4ff',
            'accent-2': '#7c3aed',
            success: '#10b981',
            warning: '#f59e0b',
          },
          fontFamily: {
            display: ['Outfit', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
        }
      }
    }
  </script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Outfit', sans-serif; background: #0a0a0f; color: #e5e7eb; }
    .glow { filter: drop-shadow(0 0 24px rgba(0,212,255,0.35)); }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }
    .float { animation: float 6s ease-in-out infinite; }
    @keyframes pulse-ring { 0% { transform: scale(0.9); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
    .pulse-ring { animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    .grid-bg {
      background-image: 
        linear-gradient(to right, rgba(0,212,255,0.03) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0,212,255,0.03) 1px, transparent 1px);
      background-size: 48px 48px;
    }
    code { font-family: 'JetBrains Mono', monospace; background: rgba(0,212,255,0.08); padding: 2px 8px; border-radius: 4px; font-size: 0.9em; }
    .reveal { opacity: 0; transform: translateY(24px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
    .reveal.active { opacity: 1; transform: translateY(0); }
    
    /* 스크롤바 숨기기 (깔끔한 UI 위해) */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body class="antialiased">

<header class="fixed top-0 left-0 right-0 z-50 border-b border-border bg-deep/80 backdrop-blur-xl">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-accent to-accent-2 flex items-center justify-center font-bold text-deep">BF</div>
      <div>
        <div class="font-display font-bold text-lg">Body-Fit AI</div>
        <div class="font-mono text-xs text-gray-500">Technical Architecture v1.0</div>
      </div>
    </div>
    <div class="flex items-center gap-4">
      <span class="font-mono text-xs text-gray-500">For Evaluation</span>
      <span class="font-mono text-xs text-accent">2026</span>
    </div>
  </div>
</header>

<section id="hero" class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
  <div class="absolute inset-0 grid-bg opacity-40"></div>
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-deep/50 to-deep"></div>
  
  <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl float"></div>
  <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent-2/5 rounded-full blur-3xl float" style="animation-delay: -3s;"></div>

  <div class="relative z-10 max-w-5xl mx-auto px-6 text-center">
    <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border mb-6">
      <span class="w-2 h-2 bg-success rounded-full pulse-ring"></span>
      <span class="text-sm font-mono text-gray-400">MIDDLEWARE ARCHITECTURE</span>
    </div>
    
    <h1 class="font-display font-bold text-5xl lg:text-7xl mb-6 leading-tight">
      <span class="text-gray-300">AI-Powered</span><br/>
      <span class="bg-gradient-to-r from-accent to-accent-2 bg-clip-text text-transparent">Fit Prediction Engine</span>
    </h1>
    
    <p class="text-xl text-gray-400 mb-8 max-w-3xl mx-auto leading-relaxed">
      Vision → Physics → 3D → GenAI<br/>
      <strong class="text-gray-300">Fashion-Specialized Neural Middleware</strong> trained on material-specific body deformation patterns
    </p>

    <div class="grid md:grid-cols-3 gap-6 mt-12 mb-12">
      <div class="bg-surface/50 backdrop-blur border border-border rounded-2xl p-6">
        <div class="text-3xl font-bold text-accent mb-2">Problem</div>
        <div class="text-gray-400">사이즈/핏 불만족 반품 (Target: 측정 예정)</div>
      </div>
      <div class="bg-surface/50 backdrop-blur border border-border rounded-2xl p-6">
        <div class="text-3xl font-bold text-accent-2 mb-2">Solution</div>
        <div class="text-gray-400">비전-물리 번역 미들웨어 + 합성 데이터 플라이휠</div>
      </div>
      <div class="bg-surface/50 backdrop-blur border border-border rounded-2xl p-6">
        <div class="text-3xl font-bold text-success mb-2">Validation</div>
        <div class="text-gray-400">Virtual vs. Real Photo Error Rate + User A/B Testing</div>
      </div>
    </div>

    <div class="flex flex-wrap gap-4 justify-center">
      <a href="#architecture" class="px-8 py-4 bg-gradient-to-r from-accent to-accent-2 rounded-xl font-semibold hover:shadow-lg hover:shadow-accent/30 transition-all">
        Architecture Overview
      </a>
      <a href="#modules" class="px-8 py-4 bg-surface border border-border rounded-xl font-semibold hover:border-accent transition-all">
        Deep-Dive Modules
      </a>
    </div>
  </div>
</section>

<section id="architecture" class="relative py-24 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="mb-16 reveal">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-accent rounded-full"></span>
        <span class="text-sm font-mono text-gray-400">SYSTEM ARCHITECTURE</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">What we build</h2>
      <p class="text-gray-400 mt-3 text-lg">4-Layer Pipeline: Vision → Middleware → 3D → GenAI</p>
    </div>

    <div class="relative bg-surface/50 backdrop-blur border border-border rounded-3xl p-8 lg:p-12 reveal">
      <svg viewBox="0 0 1200 800" class="w-full h-auto">
        <defs>
          <linearGradient id="layerGrad1" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#00d4ff" stop-opacity="0.2"/>
            <stop offset="1" stop-color="#00d4ff" stop-opacity="0.05"/>
          </linearGradient>
          <linearGradient id="layerGrad2" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#7c3aed" stop-opacity="0.2"/>
            <stop offset="1" stop-color="#7c3aed" stop-opacity="0.05"/>
          </linearGradient>
          <linearGradient id="layerGrad3" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#10b981" stop-opacity="0.2"/>
            <stop offset="1" stop-color="#10b981" stop-opacity="0.05"/>
          </linearGradient>
          <linearGradient id="layerGrad4" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#f59e0b" stop-opacity="0.2"/>
            <stop offset="1" stop-color="#f59e0b" stop-opacity="0.05"/>
          </linearGradient>
          <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
            <polygon points="0,0 10,5 0,10" fill="#00d4ff"/>
          </marker>
        </defs>

        <g transform="translate(60, 50)">
          <rect width="260" height="160" rx="20" fill="url(#layerGrad1)" stroke="#00d4ff" stroke-width="2"/>
          <text x="130" y="35" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="18" fill="#00d4ff">Layer 1: Vision</text>
          <text x="20" y="65" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• PnP Calibration</text>
          <text x="20" y="90" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• MediaPipe (33 keypoints)</text>
          <text x="20" y="115" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• YOLOv8-seg</text>
          <text x="20" y="140" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• ViT / Swin (material)</text>
        </g>

        <g transform="translate(420, 50)">
          <rect width="320" height="160" rx="20" fill="url(#layerGrad2)" stroke="#7c3aed" stroke-width="3"/>
          <text x="160" y="35" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="18" fill="#7c3aed">Layer 2: Middleware ★</text>
          <text x="20" y="65" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• Deformation Engine</text>
          <text x="20" y="90" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• Volume-Offset Logic</text>
          <text x="20" y="115" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• Synthetic Data Factory</text>
          <text x="20" y="140" font-family="JetBrains Mono" font-size="12" fill="#9ca3af">(Vision-Physics Translation)</text>
        </g>

        <g transform="translate(60, 290)">
          <rect width="260" height="160" rx="20" fill="url(#layerGrad3)" stroke="#10b981" stroke-width="2"/>
          <text x="130" y="35" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="18" fill="#10b981">Layer 3: 3D Engine</text>
          <text x="20" y="65" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• SMPL-X (body mesh)</text>
          <text x="20" y="90" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• IK (pose sync)</text>
          <text x="20" y="115" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• CLO3D API/RPA</text>
          <text x="20" y="140" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• Physics simulation</text>
        </g>

        <g transform="translate(420, 290)">
          <rect width="320" height="160" rx="20" fill="url(#layerGrad4)" stroke="#f59e0b" stroke-width="2"/>
          <text x="160" y="35" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="18" fill="#f59e0b">Layer 4: GenAI Synthesis</text>
          <text x="20" y="65" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• SDXL (Stable Diffusion)</text>
          <text x="20" y="90" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• ControlNet (Edge/Depth)</text>
          <text x="20" y="115" font-family="JetBrains Mono" font-size="13" fill="#e5e7eb">• Photoreal composition</text>
          <text x="20" y="140" font-family="JetBrains Mono" font-size="12" fill="#9ca3af">(Fit-consistent render)</text>
        </g>

        <path d="M 320,130 L 420,130" stroke="#00d4ff" stroke-width="3" marker-end="url(#arrow)" opacity="0.8"/>
        <path d="M 580,210 L 580,290" stroke="#7c3aed" stroke-width="3" marker-end="url(#arrow)" opacity="0.8"/>
        <path d="M 320,370 L 420,370" stroke="#10b981" stroke-width="3" marker-end="url(#arrow)" opacity="0.8"/>

        <g transform="translate(820, 100)">
          <rect width="320" height="320" rx="20" fill="#12121a" stroke="#2a2a38" stroke-width="2"/>
          <text x="160" y="35" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="16" fill="#9ca3af">Data Flow</text>
          
          <text x="20" y="70" font-family="JetBrains Mono" font-size="12" fill="#00d4ff">Input:</text>
          <text x="20" y="90" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- 1 photo (frontal/side)</text>
          <text x="20" y="110" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- Reference object (A4, etc)</text>
          
          <text x="20" y="145" font-family="JetBrains Mono" font-size="12" fill="#7c3aed">Middleware Output:</text>
          <text x="20" y="165" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- body dimensions (mm)</text>
          <text x="20" y="185" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- material properties</text>
          <text x="20" y="205" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- warm-start params</text>
          
          <text x="20" y="240" font-family="JetBrains Mono" font-size="12" fill="#10b981">3D Output:</text>
          <text x="20" y="260" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- draped garment mesh</text>
          <text x="20" y="280" font-family="JetBrains Mono" font-size="11" fill="#9ca3af">- edge/depth maps</text>
          
          <text x="20" y="310" font-family="JetBrains Mono" font-size="12" fill="#f59e0b">Final:</text>
          <text x="160" y="310" font-family="JetBrains Mono" font-size="11" fill="#e5e7eb">Photoreal image</text>
        </g>

        <rect x="410" y="40" width="340" height="180" rx="24" fill="none" stroke="#7c3aed" stroke-width="3" stroke-dasharray="12 8" opacity="0.6"/>
        <text x="580" y="240" text-anchor="middle" font-family="JetBrains Mono" font-size="13" fill="#7c3aed">독자 기술 영역 (Proprietary)</text>
      </svg>

      <div class="mt-12 grid md:grid-cols-2 gap-6">
        <div class="bg-deep border border-border rounded-xl p-6">
          <h4 class="font-display font-bold text-lg mb-3 text-accent">핵심 차별점</h4>
          <ul class="space-y-2 text-sm text-gray-400">
            <li>• 2D 워핑(warping) 방식 대비: 실측 치수 기반 3D 정확도 목표</li>
            <li>• 범용 가상피팅 대비: 소재별 변형 학습을 통한 핏 일관성 목표</li>
            <li>• 미들웨어 분리 설계: 비전-물리 번역 레이어를 독립 모듈화</li>
          </ul>
        </div>
        <div class="bg-deep border border-border rounded-xl p-6">
          <h4 class="font-display font-bold text-lg mb-3 text-accent-2">검증 방향 (PoC)</h4>
          <ul class="space-y-2 text-sm text-gray-400">
            <li>• 반품률 감소 (사이즈/핏 불만족 사유 중심 측정 예정)</li>
            <li>• 가상피팅 전환율 (A/B 테스트 설계 중)</li>
            <li>• 처리시간 (배치 자동화 목표, 정확도 측정 예정)</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Deep-Dive Modules -->
<section id="modules" class="relative py-24 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="mb-16 reveal">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-accent-2 rounded-full"></span>
        <span class="text-sm font-mono text-gray-400">TECHNICAL DEEP-DIVE</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">Module-by-Module Breakdown</h2>
      <p class="text-gray-400 mt-3 text-lg">각 모듈의 입력·출력·핵심 아이디어·설계 의도 상세 설명</p>
    </div>

    <div class="grid lg:grid-cols-2 gap-6">
      <!-- Module 1: PnP -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">PnP Calibration</h3>
          <span class="font-mono text-sm text-accent">Module 01</span>
        </div>
        <p class="text-gray-400 mb-6">참조 객체(Reference Object)를 이용해 카메라-피사체 간 거리 및 초점거리를 추정하고, 픽셀 단위를 실측 mm 단위로 변환하는 스케일링 기반 구축.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY (목적)</div>
            <div class="text-sm text-gray-300">단일 사진에서 정확한 신체 치수 복원을 위해서는 픽셀→mm 변환 계수가 필수. 범용 카메라 환경에서도 일관된 스케일 기준을 확보.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300">사진 내 알려진 크기의 참조 객체(A4 용지, 마커 등), 객체 4개 코너의 2D 좌표</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>scale_factor</code> (px/mm), <code>camera_pose</code> (회전/거리 추정치)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">Perspective-n-Point 알고리즘으로 3D-2D 대응점 기반 카메라 외부 파라미터 계산. Homography 변환으로 평면 왜곡 보정.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Pseudo-code (concept)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
ref_points_3D = [(0,0,0), (210,0,0), (210,297,0), (0,297,0)]  # A4 mm
ref_points_2D = detect_corners(image)
camera_matrix = estimate_camera_intrinsics()
ret, rvec, tvec = cv2.solvePnP(ref_points_3D, ref_points_2D, camera_matrix, None)
scale_factor = compute_scale(rvec, tvec)
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">다음 단계(MediaPipe, YOLO)에서 추출된 픽셀 좌표를 mm로 변환하는 기반 제공</div>
          </div>
        </div>
      </div>

      <!-- Module 2: MediaPipe -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">MediaPipe Pose</h3>
          <span class="font-mono text-sm text-accent">Module 02</span>
        </div>
        <p class="text-gray-400 mb-6">33개 관절 랜드마크(Landmark)를 추출하여 2D 포즈 데이터를 확보. 이후 IK(Inverse Kinematics) 단계에서 3D 아바타 포즈를 동기화하는 입력으로 사용.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">유저의 실제 포즈를 3D 아바타에 반영하려면 관절 위치 정보가 필요. MediaPipe는 실시간 추론 가능한 경량 모델.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300">RGB 이미지 (전신 포함)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300">33개 랜드마크 좌표 <code>{x, y, z, visibility}</code> (z는 상대적 깊이 힌트)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">BlazePose 아키텍처 기반. Heatmap regression + offset refinement로 관절 위치 예측.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Data schema (example)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
{
  "landmarks": [
    {"id": 0, "name": "nose", "x": 0.51, "y": 0.23, "z": -0.12, "visibility": 0.98},
    {"id": 11, "name": "left_shoulder", "x": 0.42, "y": 0.35, "z": -0.08, "visibility": 0.95},
    ...
  ]
}
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">IK 모듈로 2D 좌표 전달 → 3D 회전값 변환 → SMPL-X 아바타 포즈 적용</div>
          </div>
        </div>
      </div>

      <!-- Module 3: YOLOv8-seg -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">YOLOv8 Segmentation</h3>
          <span class="font-mono text-sm text-accent">Module 03</span>
        </div>
        <p class="text-gray-400 mb-6">인물 영역과 의복 영역을 픽셀 단위로 분리(Instance Segmentation)하고, 의복 카테고리를 분류. 이후 Material Inference 및 Volume-Offset 단계에서 ROI(Region of Interest)로 활용.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">체형 복원 시 의복 영역을 배제해야 정확한 신체 외곽선 추정 가능. 카테고리 정보는 소재 추론의 컨텍스트로 사용.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300">RGB 이미지, (학습 시) 어노테이션된 마스크 + 카테고리 라벨</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>mask</code> (binary segmentation), <code>bbox</code> (bounding box), <code>category</code> (hoodie/t-shirt/pants 등), <code>confidence</code> (측정 예정)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">YOLOv8 아키텍처에 instance segmentation head 추가. FPN 기반 multi-scale feature 활용.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Pseudo-code (inference)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
model = YOLO('yolov8-seg.pt')
results = model.predict(image, conf=0.5)
for result in results:
    mask = result.masks.data  # binary mask
    category = result.names[result.boxes.cls]
    bbox = result.boxes.xyxy
    # pass mask, category to material inference
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">마스크 영역 → Material Inference 입력, 카테고리 → 소재 추론 우선순위 조정, 외곽선 → Volume-Offset 계산 기준</div>
          </div>
        </div>
      </div>

      <!-- Module 4: Material Inference -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">Material Inference (ViT/Swin)</h3>
          <span class="font-mono text-sm text-accent">Module 04</span>
        </div>
        <p class="text-gray-400 mb-6">의복 ROI 내 주름(Wrinkle) 주파수, 음영(Shadow) 패턴을 분석하여 소재의 두께(Thickness), 강성(Stiffness), 밀도(Density) 특성을 확률적으로 추정. 물리 시뮬레이션 파라미터 설정의 기초 정보 제공.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">동일 체형이라도 소재에 따라 핏이 크게 달라짐(예: 면 티셔츠 vs 니트 스웨터). 2D 이미지만으로 소재 특성을 역추론하여 시뮬레이션 정확도 향상 목표.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300">의복 ROI 패치, 카테고리 컨텍스트(YOLO 출력)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>material_bucket</code> (cotton/polyester/knit 등 클래스), <code>thickness_level</code> (thin/medium/thick), <code>confidence_score</code> (측정 예정)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">Vision Transformer(ViT) 또는 Swin Transformer 기반. 주름 패턴을 frequency domain으로 분석(FFT 힌트), 음영 분포로 재질 밀도 추정. 학습 데이터는 CLO3D 합성 이미지 + 실제 소재 라벨 조합.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Concept (pseudo-logic)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
roi_patch = extract_roi(image, mask)
features = vit_model.encode(roi_patch)
wrinkle_freq = fft_analysis(roi_patch)  # concept: frequency hint
material_logits = classifier_head(features, wrinkle_freq)
material_bucket = argmax(material_logits)  # e.g., "cotton_medium_thick"
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">추론된 소재 정보 → Deformation Engine 입력 (학습된 변형 패턴 선택), Volume-Offset 두께 차감 계수 결정</div>
          </div>
        </div>
      </div>

      <!-- Module 5: Volume-Offset Logic -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent-2 transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl text-accent-2">Volume-Offset Logic</h3>
          <span class="font-mono text-sm text-accent-2">Module 05 ★</span>
        </div>
        <p class="text-gray-400 mb-6">의복 외곽선에서 소재 두께 및 핏 스타일(loose/slim) 정보를 역산하여 실제 신체 치수를 추정하는 독자 역공학(Reverse Engineering) 로직. 미들웨어 핵심 구성요소.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">사진 속 외곽선은 "의복을 입은 상태"이므로 의복 두께·여유분을 제거해야 신체 치수 복원 가능. 기존 2D 워핑은 이 과정을 단순 스케일링으로 처리하여 부정확.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300"><code>garment_contour</code> (YOLO mask 외곽선), <code>material_thickness</code> (Material Inference 출력), <code>fit_style</code> (loose/regular/slim, 카테고리 기반 추론)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>body_contour_estimated</code> (의복 제거 후 신체 외곽선 추정), <code>key_measurements_mm</code> (어깨폭/가슴둘레/허리 등)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">외곽선의 각 포인트에서 법선(Normal) 방향으로 <code>offset = thickness + ease_allowance(fit_style)</code>만큼 차감. 소재별 변형 계수는 Synthetic Data Factory 학습 데이터에서 확보. 측정 정확도는 PoC에서 검증 예정.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Concept (simplified)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
for point in garment_contour:
    normal = compute_normal(point)
    offset_mm = thickness_lookup[material_bucket] + ease_table[fit_style]
    body_point = point - normal * offset_mm / scale_factor
body_contour = smooth(body_points)
measurements = extract_key_dims(body_contour)  # shoulder, chest, waist...
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">복원된 신체 치수 → SMPL-X 파라미터 생성, Deformation Engine 입력 (체형 컨텍스트)</div>
          </div>
        </div>
      </div>

      <!-- Module 6: Deformation Engine -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent-2 transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl text-accent-2">Deformation Engine</h3>
          <span class="font-mono text-sm text-accent-2">Module 06 ★</span>
        </div>
        <p class="text-gray-400 mb-6">소재별·체형별 물리 변형 데이터를 학습한 신경망 대리 모델(Neural Surrogate). 특정 소재가 특정 체형/포즈에서 어떻게 변형될지 사전 예측하여 CLO3D 물리 시뮬레이션의 warm-start 파라미터 제공. 시뮬 수렴 속도 및 안정성 향상 목표.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">물리 시뮬레이션은 계산 비용이 높고 초기값에 민감. 학습 모델로 "좋은 출발점"을 제공하면 반복 횟수 감소 및 품질 안정화 가능. 비전-물리 간 번역 레이어 역할.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300"><code>material_bucket</code>, <code>body_params</code> (SMPL-X 치수), <code>pose</code> (IK 출력), <code>garment_pattern</code> (패턴 메타데이터)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>warm_start_params</code> (초기 드레이핑 힌트), <code>stability_hints</code> (충돌 회피 가이드, 측정 예정)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">Synthetic Data Factory에서 생성된 (소재, 체형, 포즈) → (변형 결과) 쌍으로 학습. MLP 또는 Graph Neural Network 기반 surrogate 모델. 추론 시 수 ms 내 warm-start 제공 목표 (정확도 PoC 검증 예정).</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Training concept</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
# Synthetic Data Factory loop
for (material, body, pose) in training_set:
    sim_result = clo3d_simulate(material, body, pose)  # ground truth
    features = encode(material, body, pose)
    model.train(features, target=sim_result.deformation_state)

# Inference
features = encode(material_inferred, body_measured, pose_ik)
warm_start = model.predict(features)
clo3d_simulate(material, body, pose, initial_state=warm_start)  # faster convergence
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">Warm-start 파라미터 → CLO3D API로 전달, 시뮬레이션 초기화 → 최종 드레이핑 결과 획득</div>
          </div>
        </div>
      </div>

      <!-- Module 7: Synthetic Data Factory -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-accent-2 transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl text-accent-2">Synthetic Data Factory</h3>
          <span class="font-mono text-sm text-accent-2">Module 07 ★</span>
        </div>
        <p class="text-gray-400 mb-6">CLO3D 물리 시뮬레이션을 자동화하여 (소재, 체형, 포즈) → (변형 결과) 쌍의 학습 데이터를 대량 생성하는 합성 데이터 공정(Data Pipeline). 초기 데이터 부족 문제 해결 및 지속적 학습 플라이휠 구축의 핵심.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">실제 데이터 수집은 비용·시간·라벨링 부담이 큼. 물리 엔진 기반 합성 데이터는 정확한 ground truth 제공 가능. 소재-핏 관계를 구조화된 형태로 학습하는 유일한 방법.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300"><code>material_library</code> (CLO3D 소재 DB), <code>body_shape_distribution</code> (SMPL-X 파라미터 범위), <code>pose_library</code> (다양한 자세 샘플), <code>garment_patterns</code> (의복 패턴 템플릿)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>synthetic_dataset</code> {렌더 이미지, 드레이핑 메쉬, 소재 라벨, 체형 파라미터, 변형 상태}</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">CLO3D API/RPA를 통해 헤드리스(Headless) 배치 시뮬레이션 자동화. 파라미터 공간을 샘플링하여 다양한 조합 생성 → 시뮬 → 데이터 저장 → Deformation Engine 학습 → 배포 → PoC 피드백 → 재학습 루프.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Pipeline (conceptual)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
for iteration in range(N):
    material = sample(material_library)
    body = sample(body_distribution)
    pose = sample(pose_library)
    pattern = sample(garment_patterns)
    
    clo3d.load_pattern(pattern)
    clo3d.set_material(material)
    clo3d.set_avatar(body, pose)
    result = clo3d.simulate()  # physics simulation
    
    dataset.append({
        'render': result.render_image,
        'mesh': result.draped_mesh,
        'material': material.properties,
        'body': body.params,
        'deformation': result.vertex_displacements
    })
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">생성된 데이터셋 → Deformation Engine 학습, Material Inference 모델 학습. PoC 실사용 데이터로 지속 보정 (플라이휠)</div>
          </div>
        </div>
      </div>

      <!-- Module 8: SMPL-X & IK -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-success transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">SMPL-X & IK</h3>
          <span class="font-mono text-sm text-success">Module 08</span>
        </div>
        <p class="text-gray-400 mb-6">SMPL-X 파라메트릭 인체 모델로 3D 디지털 트윈 생성 후, Inverse Kinematics로 MediaPipe의 2D 관절 좌표를 3D 회전값으로 변환하여 아바타 포즈 동기화.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">유저의 실제 포즈를 3D 공간에서 재현해야 정확한 가상피팅 가능. SMPL-X는 체형 파라미터와 포즈 파라미터를 분리하여 제어 가능.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300"><code>body_measurements</code> (Volume-Offset 출력), <code>landmarks_2d</code> (MediaPipe 출력)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>smplx_mesh</code> (3D body mesh), <code>joint_rotations</code> (각 관절의 3D 회전 파라미터)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">SMPL-X 모델은 shape parameters (β) + pose parameters (θ)로 메쉬 생성. IK는 2D 관절 좌표 → 3D 회전값 역산 문제를 최적화로 해결 (reprojection error 최소화).</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Concept</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
# SMPL-X forward
beta = fit_shape_params(body_measurements)
mesh = smplx_model(beta, theta=initial_pose)

# IK optimization
for iter in range(max_iter):
    joints_3d = mesh.get_joints()
    joints_2d_proj = project(joints_3d, camera_params)
    error = mse(joints_2d_proj, landmarks_2d)
    theta = theta - learning_rate * grad(error, theta)
    mesh = smplx_model(beta, theta)

output: mesh, theta
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">SMPL-X 메쉬 → CLO3D 아바타로 임포트, 포즈 동기화 → 드레이핑 시뮬레이션 실행</div>
          </div>
        </div>
      </div>

      <!-- Module 9: CLO3D API/RPA -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-success transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">CLO3D API / RPA</h3>
          <span class="font-mono text-sm text-success">Module 09</span>
        </div>
        <p class="text-gray-400 mb-6">CLO3D의 파이썬 API 및 스크립트 자동화를 통해 패턴 수정, 아바타 세팅, 물리 시뮬레이션을 헤드리스(Headless) 배치 모드로 실행. Synthetic Data Factory 및 실시간 피팅 파이프라인의 백본.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">수동 CLO3D 작업은 확장 불가. API 자동화로 대량 시뮬레이션 및 배치 처리 가능. RPA로 UI 기반 워크플로우도 자동화 가능.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300"><code>pattern_file</code> (.zprj), <code>material_properties</code>, <code>avatar_mesh</code> (SMPL-X), <code>simulation_params</code></div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>draped_mesh</code> (.obj), <code>render_image</code> (.png), <code>simulation_log</code> (수렴 여부, 처리시간)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">CLO3D Python API를 통해 프로젝트 로드 → 패턴/소재/아바타 설정 → Simulate() 호출 → 결과 익스포트를 스크립트로 제어. RPA는 API 미지원 기능을 UI 자동화로 보완.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Pseudo-code (API usage)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
import CLO3D_API as clo

clo.open_project('pattern.zprj')
clo.set_avatar(smplx_mesh, pose_params)
clo.set_material('fabric_cotton_medium')
clo.apply_warm_start(warm_start_params)  # from Deformation Engine

result = clo.simulate(max_iter=100, tolerance=0.01)
if result.converged:
    clo.export_mesh('output.obj')
    clo.render('output.png', camera_angle='front')
    log.append({'success': True, 'time': result.time_ms})
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">시뮬 결과 메쉬 → GenAI 모듈 입력 (edge/depth 추출), 렌더 이미지 → 학습 데이터셋</div>
          </div>
        </div>
      </div>

      <!-- Module 10: SDXL + ControlNet -->
      <div class="bg-surface border border-border rounded-2xl p-8 hover:border-warning transition-all reveal">
        <div class="flex items-start justify-between mb-4">
          <h3 class="font-display font-bold text-2xl">SDXL + ControlNet</h3>
          <span class="font-mono text-sm text-warning">Module 10</span>
        </div>
        <p class="text-gray-400 mb-6">3D 시뮬레이션 결과 메쉬에서 추출한 Edge(Canny) 및 Depth 맵을 ControlNet 가이드로 삼아, Stable Diffusion XL로 포토리얼한 최종 이미지 합성. 핏 정보(fit consistency)를 유지하며 사실적 렌더링 제공.</p>
        
        <div class="space-y-4">
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">WHY</div>
            <div class="text-sm text-gray-300">3D 렌더는 기하학적으로 정확하지만 조명·질감이 부자연스러울 수 있음. GenAI로 사실감 향상하되, ControlNet으로 핏 정보는 보존.</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INPUTS</div>
            <div class="text-sm text-gray-300"><code>draped_mesh</code> (CLO3D 출력), <code>canny_edge</code> (외곽선), <code>depth_map</code> (깊이), <code>prompt</code> (스타일 지시: "photorealistic studio lighting")</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">OUTPUTS</div>
            <div class="text-sm text-gray-300"><code>final_image</code> (포토리얼 가상피팅 결과, 품질 측정 예정)</div>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">CORE IDEA</div>
            <div class="text-sm text-gray-300">ControlNet은 edge/depth를 조건(condition)으로 삼아 Diffusion 생성 과정을 제약. 이를 통해 핏 형상은 유지하면서 텍스처·조명만 개선. SDXL은 고해상도 생성 지원.</div>
          </div>
          <div class="bg-deep rounded-xl p-4 border border-border">
            <div class="font-mono text-xs text-gray-500 mb-2">Concept (inference)</div>
            <pre class="font-mono text-xs text-accent overflow-x-auto">
from diffusers import StableDiffusionXLControlNetPipeline, ControlNetModel

# Extract guides from 3D
canny_edge = extract_canny(render_from_mesh)
depth_map = extract_depth(mesh)

# Load models
controlnet = ControlNetModel.from_pretrained("controlnet-canny-sdxl")
pipe = StableDiffusionXLControlNetPipeline.from_pretrained("sdxl-base", controlnet=controlnet)

# Generate
image = pipe(
    prompt="photorealistic fashion photography, studio lighting",
    image=[canny_edge, depth_map],
    controlnet_conditioning_scale=[0.7, 0.5]
).images[0]
            </pre>
          </div>
          <div>
            <div class="font-mono text-xs text-gray-500 mb-1">INTERFACE</div>
            <div class="text-sm text-gray-300">최종 이미지 → 유저에게 제시 (UX), PoC에서 핏 일관성 및 사용자 만족도 측정</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section id="story" class="relative py-24 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="mb-16 reveal text-center">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-accent rounded-full"></span>
        <span class="text-sm font-mono text-gray-400">PIPELINE FLOW</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">How it works</h2>
      <p class="text-gray-400 mt-3 text-lg">사진 입력부터 최종 렌더링까지의 전체 파이프라인</p>
    </div>

    <!-- Step 1: PnP Calibration -->
    <div class="step-container mb-32">
      <div class="max-w-4xl mx-auto mb-12 step-text">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-accent/10 rounded-full border border-accent/30 mb-4">
          <span class="font-mono text-sm text-accent font-bold">STEP 01</span>
        </div>
        <h3 class="font-display font-bold text-4xl mb-4">PnP Calibration</h3>
        <p class="text-gray-400 text-xl leading-relaxed mb-8">
          참조 객체(A4용지, 마커 등)를 이용해 실제 스케일을 추정하고 카메라 포즈를 계산합니다. 
          픽셀 단위를 밀리미터로 변환하는 기초 단계입니다.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-6">
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Reference Plane</div>
            <div class="text-sm text-gray-400">A4용지, QR 마커 등 알려진 크기 객체 탐지</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Camera Pose</div>
            <div class="text-sm text-gray-400">cv2.solvePnP()로 카메라 위치 계산</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Scale Factor</div>
            <div class="text-sm text-gray-400">픽셀/mm 변환 비율 산출</div>
          </div>
        </div>
        <div class="p-4 rounded-xl bg-deep border border-accent/30">
          <div class="font-mono text-xs text-gray-500 mb-2">Output</div>
          <div class="font-mono text-sm text-accent">scale_factor: 3.2 px/mm • camera_pose: [R|t]</div>
        </div>
      </div>
      <div class="step-visual">
        <img src="step01-pnp-calibration.svg" alt="PnP Calibration Visual">
      </div>
      <div class="step-divider"></div>
    </div>

    <!-- Step 2: YOLO Segmentation -->
    <div class="step-container mb-32">
      <div class="max-w-4xl mx-auto mb-12 step-text">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-accent/10 rounded-full border border-accent/30 mb-4">
          <span class="font-mono text-sm text-accent font-bold">STEP 02</span>
        </div>
        <h3 class="font-display font-bold text-4xl mb-4">YOLO Segmentation</h3>
        <p class="text-gray-400 text-xl leading-relaxed mb-8">
          YOLOv8-seg 모델로 사람과 의류 영역을 정확히 분리합니다. 
          인스턴스 세그멘테이션을 통해 바이너리 마스크와 의류 카테고리를 추출합니다.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-6">
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Instance Segmentation</div>
            <div class="text-sm text-gray-400">사람과 의류를 픽셀 단위로 정확 분리</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Category Classification</div>
            <div class="text-sm text-gray-400">후디, 셔츠, 팬츠 등 의류 종류 분류</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Bounding Box & Mask</div>
            <div class="text-sm text-gray-400">정확한 영역 정보와 마스크 생성</div>
          </div>
        </div>
        <div class="p-4 rounded-xl bg-deep border border-accent/30">
          <div class="font-mono text-xs text-gray-500 mb-2">Output</div>
          <div class="font-mono text-sm text-accent">category: "HOODIE" • confidence: 0.94 • binary_mask: [H×W]</div>
        </div>
      </div>
      <div class="step-visual">
        <img src="step02-yolo-segmentation.svg" alt="YOLO Segmentation Visual">
      </div>
      <div class="step-divider"></div>
    </div>

    <!-- Step 3: Material Inference -->
    <div class="step-container mb-32">
      <div class="max-w-4xl mx-auto mb-12 step-text">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-accent/10 rounded-full border border-accent/30 mb-4">
          <span class="font-mono text-sm text-accent font-bold">STEP 03</span>
        </div>
        <h3 class="font-display font-bold text-4xl mb-4">Material Inference</h3>
        <p class="text-gray-400 text-xl leading-relaxed mb-8">
          ViT/Swin Transformer 기반 모델로 주름 패턴과 음영을 분석해 소재의 물리적 특성을 추정합니다.
          FFT 분석으로 주름 주파수를 계산하여 딱딱함/부드러움을 판단합니다.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-6">
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Wrinkle Frequency</div>
            <div class="text-sm text-gray-400">FFT로 주름 패턴 분석 (고주파=뻣뻣함)</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Material Bucketing</div>
            <div class="text-sm text-gray-400">면/폴리/데님 등 소재군 분류</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Thickness Estimation</div>
            <div class="text-sm text-gray-400">음영 패턴으로 두께 레벨 추정</div>
          </div>
        </div>
        <div class="p-4 rounded-xl bg-deep border border-accent/30">
          <div class="font-mono text-xs text-gray-500 mb-2">Output</div>
          <div class="font-mono text-sm text-accent">material_bucket: "cotton_medium" • thickness: "medium" (2-3mm)</div>
        </div>
      </div>
      <div class="step-visual">
        <img src="step03-material-inference.svg" alt="Material Inference Visual">
      </div>
      <div class="step-divider"></div>
    </div>

    <!-- Step 4: Deformation Engine -->
    <div class="step-container mb-32">
      <div class="max-w-4xl mx-auto mb-12 step-text">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-accent/10 rounded-full border border-accent/30 mb-4">
          <span class="font-mono text-sm text-accent font-bold">STEP 04</span>
        </div>
        <h3 class="font-display font-bold text-4xl mb-4">Deformation Engine</h3>
        <p class="text-gray-400 text-xl leading-relaxed mb-8">
          Neural Surrogate 모델이 물리 시뮬레이션의 변형 패턴을 학습하여 warm-start 파라미터를 제공합니다.
          이를 통해 시뮬레이션 반복 횟수를 줄이고 안정성을 높입니다.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-6">
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Neural Surrogate</div>
            <div class="text-sm text-gray-400">MLP/GNN으로 변형 패턴 학습</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Warm-start Generation</div>
            <div class="text-sm text-gray-400">물리 시뮬 초기값으로 수렴 가속</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Quality Stabilization</div>
            <div class="text-sm text-gray-400">일관된 드레이핑 품질 보장</div>
          </div>
        </div>
        <div class="p-4 rounded-xl bg-deep border border-accent/30">
          <div class="font-mono text-xs text-gray-500 mb-2">Output</div>
          <div class="font-mono text-sm text-accent">warm_start_params → CLO3D/Physics Engine</div>
        </div>
      </div>
      <div class="step-visual">
        <img src="step04-deformation-engine.svg" alt="Deformation Engine Visual">
      </div>
      <div class="step-divider"></div>
    </div>

    <!-- Step 5: Synthetic Data Factory -->
    <div class="step-container mb-32">
      <div class="max-w-4xl mx-auto mb-12 step-text">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-accent/10 rounded-full border border-accent/30 mb-4">
          <span class="font-mono text-sm text-accent font-bold">STEP 05</span>
        </div>
        <h3 class="font-display font-bold text-4xl mb-4">Synthetic Data Factory</h3>
        <p class="text-gray-400 text-xl leading-relaxed mb-8">
          CLO3D 기반 물리 시뮬레이션으로 합성 데이터를 자동 생성합니다.
          초기 데이터 부족 문제를 해결하고 지속적인 학습 루프를 구축합니다.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-6">
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">CLO3D Automation</div>
            <div class="text-sm text-gray-400">물리 시뮬레이션으로 ground truth 생성</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Continuous Learning</div>
            <div class="text-sm text-gray-400">생성→학습→배포→피드백 순환</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Competitive Moat</div>
            <div class="text-sm text-gray-400">복제 난이도 높은 플라이휠</div>
          </div>
        </div>
        <div class="p-4 rounded-xl bg-deep border border-accent/30">
          <div class="font-mono text-xs text-gray-500 mb-2">Output</div>
          <div class="font-mono text-sm text-accent">deformation_dataset_v1.0 → Train Deformation Engine</div>
        </div>
      </div>
      <div class="step-visual">
        <img src="step05-synthetic-data-factory.svg" alt="Synthetic Data Factory Visual">
      </div>
      <div class="step-divider"></div>
    </div>

    <!-- Step 6: GenAI Synthesis -->
    <div class="step-container mb-16">
      <div class="max-w-4xl mx-auto mb-12 step-text">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-accent/10 rounded-full border border-accent/30 mb-4">
          <span class="font-mono text-sm text-accent font-bold">STEP 06</span>
        </div>
        <h3 class="font-display font-bold text-4xl mb-4">GenAI Synthesis</h3>
        <p class="text-gray-400 text-xl leading-relaxed mb-8">
          SDXL + ControlNet으로 3D 메쉬를 포토리얼한 이미지로 변환합니다.
          Edge/Depth 가이드로 핏 정보를 유지하면서 고품질 결과물을 생성합니다.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-6">
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">ControlNet Conditioning</div>
            <div class="text-sm text-gray-400">Edge/Depth 맵으로 형상 보존</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Photorealistic Rendering</div>
            <div class="text-sm text-gray-400">SDXL 기반 고품질 이미지 생성</div>
          </div>
          <div class="p-4 rounded-xl bg-surface border border-border hover:border-accent/50 transition-all">
            <div class="text-accent font-semibold mb-2">Fit-Consistent Output</div>
            <div class="text-sm text-gray-400">핏 정보 유지하며 자연스러운 합성</div>
          </div>
        </div>
        <div class="p-4 rounded-xl bg-deep border border-accent/30">
          <div class="font-mono text-xs text-gray-500 mb-2">Output</div>
          <div class="font-mono text-sm text-accent">final_render.jpg • Photorealistic virtual try-on</div>
        </div>
      </div>
      <div class="step-visual">
        <img src="step06-genai-synthesis.svg" alt="GenAI Synthesis Visual">
      </div>
    </div>
  </div>

  <style>
    /* Step container animations */
    .step-container {
      opacity: 0;
      animation: fadeInUp 0.8s ease-out forwards;
      padding-top: 2rem;
      padding-bottom: 2rem;
    }
    
    .step-container:nth-child(2) { animation-delay: 0.1s; }
    .step-container:nth-child(3) { animation-delay: 0.2s; }
    .step-container:nth-child(4) { animation-delay: 0.3s; }
    .step-container:nth-child(5) { animation-delay: 0.4s; }
    .step-container:nth-child(6) { animation-delay: 0.5s; }
    .step-container:nth-child(7) { animation-delay: 0.6s; }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Text content animations */
    .step-text {
      animation: slideInLeft 0.6s ease-out;
    }
    
    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    /* Visual container - full width */
    .step-visual {
      width: 100vw;
      position: relative;
      left: 50%;
      right: 50%;
      margin-left: -50vw;
      margin-right: -50vw;
      margin-top: 3rem;
      margin-bottom: 3rem;
      overflow: hidden;
      animation: slideInRight 0.8s ease-out;
    }
    
    .step-visual img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform 0.3s ease;
      min-height: 400px;
    }
    
    .step-visual:hover img {
      transform: scale(1.02);
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    /* Step divider - animated line */
    .step-divider {
      width: 2px;
      height: 120px;
      background: linear-gradient(to bottom, #00d4ff, transparent);
      margin: 80px auto;
      position: relative;
      animation: growLine 1s ease-out;
    }
    
    .step-divider::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 8px;
      height: 8px;
      background: #00d4ff;
      border-radius: 50%;
      box-shadow: 0 0 20px #00d4ff;
      animation: pulse 2s infinite;
    }
    
    @keyframes growLine {
      from {
        height: 0;
        opacity: 0;
      }
      to {
        height: 120px;
        opacity: 1;
      }
    }
    
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
        transform: translateX(-50%) scale(1);
      }
      50% {
        opacity: 0.5;
        transform: translateX(-50%) scale(1.3);
      }
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .step-container h3 {
        font-size: 2rem;
      }
      
      .step-container p {
        font-size: 1rem;
      }
    }
  </style>
</section>

<section id="flywheel" class="relative py-24 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="mb-16 reveal">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-success rounded-full"></span>
        <span class="text-sm font-mono text-gray-400">COMPETITIVE MOAT</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">Data Flywheel & Moat</h2>
      <p class="text-gray-400 mt-3 text-lg">합성 데이터 공장(Synthetic Data Factory)을 중심으로 한 지속 학습 루프</p>
    </div>

    <div class="grid lg:grid-cols-2 gap-12 items-center reveal">
      <div>
        <svg viewBox="0 0 600 600" class="w-full h-auto">
          <defs>
            <linearGradient id="cycleGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#00d4ff" stop-opacity="0.3"/>
              <stop offset="1" stop-color="#7c3aed" stop-opacity="0.3"/>
            </linearGradient>
            <marker id="arrowCycle" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
              <polygon points="0,0 12,6 0,12" fill="#10b981"/>
            </marker>
          </defs>
          
          <circle cx="300" cy="300" r="100" fill="url(#cycleGrad)" stroke="#7c3aed" stroke-width="3"/>
          <text x="300" y="290" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="20" fill="#e5e7eb">Synthetic</text>
          <text x="300" y="315" text-anchor="middle" font-family="Outfit" font-weight="700" font-size="20" fill="#e5e7eb">Data Factory</text>

          <g transform="translate(300, 100)">
            <circle cx="0" cy="0" r="70" fill="#12121a" stroke="#00d4ff" stroke-width="3"/>
            <text x="0" y="-10" text-anchor="middle" font-family="JetBrains Mono" font-size="16" fill="#00d4ff">CLO3D</text>
            <text x="0" y="10" text-anchor="middle" font-family="JetBrains Mono" font-size="14" fill="#9ca3af">Simulation</text>
          </g>

          <g transform="translate(476, 300)">
            <circle cx="0" cy="0" r="70" fill="#12121a" stroke="#10b981" stroke-width="3"/>
            <text x="0" y="-10" text-anchor="middle" font-family="JetBrains Mono" font-size="16" fill="#10b981">Dataset</text>
            <text x="0" y="10" text-anchor="middle" font-family="JetBrains Mono" font-size="14" fill="#9ca3af">Generation</text>
          </g>

          <g transform="translate(300, 500)">
            <circle cx="0" cy="0" r="70" fill="#12121a" stroke="#f59e0b" stroke-width="3"/>
            <text x="0" y="-10" text-anchor="middle" font-family="JetBrains Mono" font-size="16" fill="#f59e0b">Training</text>
            <text x="0" y="10" text-anchor="middle" font-family="JetBrains Mono" font-size="14" fill="#9ca3af">Models</text>
          </g>

          <g transform="translate(124, 300)">
            <circle cx="0" cy="0" r="70" fill="#12121a" stroke="#7c3aed" stroke-width="3"/>
            <text x="0" y="-10" text-anchor="middle" font-family="JetBrains Mono" font-size="16" fill="#7c3aed">Deploy</text>
            <text x="0" y="10" text-anchor="middle" font-family="JetBrains Mono" font-size="14" fill="#9ca3af">& PoC</text>
          </g>

          <path d="M 300,170 L 300,200" stroke="#10b981" stroke-width="4" marker-end="url(#arrowCycle)"/>
          <path d="M 406,300 L 376,300" stroke="#10b981" stroke-width="4" marker-end="url(#arrowCycle)"/>
          <path d="M 300,430 L 300,400" stroke="#10b981" stroke-width="4" marker-end="url(#arrowCycle)"/>
          <path d="M 194,300 L 224,300" stroke="#10b981" stroke-width="4" marker-end="url(#arrowCycle)"/>

          <circle cx="300" cy="300" r="240" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="12 8" opacity="0.4"/>
          <text x="300" y="60" text-anchor="middle" font-family="JetBrains Mono" font-size="13" fill="#10b981">Continuous Learning Loop</text>
        </svg>
      </div>

      <div class="space-y-6">
        <div class="bg-surface border border-border rounded-xl p-6">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center">
              <span class="text-accent font-bold">1</span>
            </div>
            <h4 class="font-display font-bold text-lg">초기 데이터 부족 해결</h4>
          </div>
          <p class="text-gray-400 text-sm">CLO3D 기반 합성 데이터로 초기 학습 파이프라인 구축. 실제 데이터 수집 전에도 개발 가능.</p>
        </div>

        <div class="bg-surface border border-border rounded-xl p-6">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center">
              <span class="text-success font-bold">2</span>
            </div>
            <h4 class="font-display font-bold text-lg">구조화된 학습 데이터</h4>
          </div>
          <p class="text-gray-400 text-sm">(소재, 체형, 포즈) → (변형 결과) 쌍을 정확히 라벨링. 물리 시뮬 기반이므로 ground truth 신뢰도 높음.</p>
        </div>

        <div class="bg-surface border border-border rounded-xl p-6">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-lg bg-accent-2/10 flex items-center justify-center">
              <span class="text-accent-2 font-bold">3</span>
            </div>
            <h4 class="font-display font-bold text-lg">지속 개선 플라이휠</h4>
          </div>
          <p class="text-gray-400 text-sm">PoC 실사용 데이터 → 합성 데이터 보정 → 재학습 → 성능 향상 → 더 많은 사용자 → 더 많은 데이터. 선순환 구조.</p>
        </div>

        <div class="bg-surface border border-border rounded-xl p-6">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-lg bg-warning/10 flex items-center justify-center">
              <span class="text-warning font-bold">4</span>
            </div>
            <h4 class="font-display font-bold text-lg">기술 장벽 (Moat)</h4>
          </div>
          <p class="text-gray-400 text-sm">물리 시뮬 기반 합성 데이터 생성 공정은 복제 난이도 높음. CLO3D API 숙련도 및 파이프라인 설계 노하우 필요.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="validation" class="relative py-24 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="mb-16 reveal">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-warning rounded-full"></span>
        <span class="text-sm font-mono text-gray-400">POC VALIDATION</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">Validation Plan</h2>
      <p class="text-gray-400 mt-3 text-lg">측정 예정 톤 / PoC 지표 / 검증 방식 / 데이터 전략</p>
    </div>

    <div class="grid lg:grid-cols-3 gap-6">
      <div class="lg:col-span-2 space-y-6 reveal">
        <div class="bg-surface border border-border rounded-xl p-8">
          <h3 class="font-display font-bold text-xl mb-4 text-accent">PoC 검증 지표 (측정 예정)</h3>
          <div class="space-y-4">
            <div class="flex items-start gap-4">
              <div class="w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0 mt-1">
                <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
              </div>
              <div>
                <div class="font-semibold text-gray-200 mb-1">반품률 감소 (사이즈/핏 불만족 사유 중심)</div>
                <div class="text-sm text-gray-400">협력 쇼핑몰에서 가상피팅 사용군 vs 미사용군 A/B 테스트. 반품 사유 설문 기반으로 "사이즈 안 맞음" / "핏 기대와 다름" 항목 비율 측정 예정. Target: 유의미한 감소 확인.</div>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0 mt-1">
                <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                </svg>
              </div>
              <div>
                <div class="font-semibold text-gray-200 mb-1">가상피팅 전환율 (Feature Adoption)</div>
                <div class="text-sm text-gray-400">상품 페이지 방문자 중 가상피팅 기능을 실제 사용한 비율. 사용 후 구매 전환율 변화도 추적 예정. Target: 전환율 개선 여부 확인.</div>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0 mt-1">
                <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
              </div>
              <div>
                <div class="font-semibold text-gray-200 mb-1">처리시간 (End-to-End Latency)</div>
                <div class="text-sm text-gray-400">사진 업로드 → 최종 렌더 산출까지 소요 시간 측정 예정. 배치 처리 기준. Target: 상용 서비스 가능 수준 검증 (정확도는 PoC에서 확인).</div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-surface border border-border rounded-xl p-8">
          <h3 class="font-display font-bold text-xl mb-4 text-success">검증 방식 (Methodology)</h3>
          <div class="space-y-3 text-gray-400">
            <p><strong class="text-gray-200">협력 쇼핑몰/브랜드 파트너십:</strong> PoC 단계에서 실제 고객 대상 A/B 테스트 환경 확보. 통제군(기존 방식) vs 실험군(Body-Fit AI 가상피팅) 비교.</p>
            <p><strong class="text-gray-200">반품 사유 설문 기반 측정:</strong> 반품 발생 시 설문을 통해 구체적 사유 수집. "사이즈 불일치" / "핏 기대치 불일치" 항목을 정량화하여 개선 여부 판단.</p>
            <p><strong class="text-gray-200">사용자 만족도 조사:</strong> 가상피팅 사용 후 설문(NPS, 만족도 리커트 척도)으로 주관적 품질 평가 병행.</p>
            <p><strong class="text-gray-200">기술 지표 모니터링:</strong> 처리시간, 시뮬레이션 수렴률, 모델 추론 정확도(소재 분류 등) 로그 수집 및 분석.</p>
          </div>
        </div>
      </div>

      <div class="space-y-6 reveal">
        <div class="bg-gradient-to-br from-accent/10 to-accent-2/10 border border-accent/30 rounded-xl p-8">
          <h3 class="font-display font-bold text-xl mb-4 text-accent">데이터 전략 (Staged Approach)</h3>
          <div class="space-y-4">
            <div>
              <div class="font-semibold text-gray-200 mb-2 flex items-center gap-2">
                <span class="w-6 h-6 rounded-full bg-accent text-deep text-xs font-bold flex items-center justify-center">1</span>
                Phase 1: Synthetic-Only
              </div>
              <div class="text-sm text-gray-400">CLO3D 기반 합성 데이터로 초기 파이프라인 구축. Deformation Engine, Material Inference 모델 1차 학습 완료.</div>
            </div>
            <div>
              <div class="font-semibold text-gray-200 mb-2 flex items-center gap-2">
                <span class="w-6 h-6 rounded-full bg-success text-deep text-xs font-bold flex items-center justify-center">2</span>
                Phase 2: PoC Real Data
              </div>
              <div class="text-sm text-gray-400">협력사 PoC에서 실사용 데이터 수집. 합성 데이터와 실제 데이터 간 도메인 갭 확인 및 보정 파라미터 조정.</div>
            </div>
            <div>
              <div class="font-semibold text-gray-200 mb-2 flex items-center gap-2">
                <span class="w-6 h-6 rounded-full bg-accent-2 text-deep text-xs font-bold flex items-center justify-center">3</span>
                Phase 3: Hybrid Training
              </div>
              <div class="text-sm text-gray-400">합성 데이터(대량) + 실제 데이터(소량, 고품질)를 혼합 학습. 지속적 재학습 루프 구축 (Data Flywheel 가동).</div>
            </div>
          </div>
        </div>

        <div class="bg-surface border border-border rounded-xl p-6">
          <h4 class="font-display font-bold mb-3">핵심 원칙</h4>
          <ul class="space-y-2 text-sm text-gray-400">
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-warning mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
              </svg>
              <span>확정 수치 주장 금지 (측정 예정/Target 표현 사용)</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-warning mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
              </svg>
              <span>A/B 테스트 기반 객관적 측정</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-warning mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
              </svg>
              <span>합성 데이터로 시작, 실제 데이터로 보정</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-warning mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
              </svg>
              <span>플라이휠 구조로 지속 개선</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="roadmap" class="relative py-24 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="mb-16 reveal">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-accent-2 rounded-full"></span> 
        <span class="text-sm font-mono text-gray-400">DEVELOPMENT ROADMAP</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">Roadmap</h2>
      <p class="text-gray-400 mt-3 text-lg">MVP → PoC → Pilot → Scale 단계별 산출물 / 검증 항목 / 리스크 대응</p>
    </div>

    <div class="relative reveal">
      <div class="absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-accent via-success to-accent-2"></div>

      <div class="space-y-12">
        <div class="relative pl-20">
          <div class="absolute left-0 top-0 w-16 h-16 rounded-2xl bg-accent/10 border-2 border-accent flex items-center justify-center">
            <span class="font-bold text-accent text-xl">1</span>
          </div>
          <div class="bg-surface border border-border rounded-xl p-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="font-display font-bold text-2xl text-accent">Phase 1: MVP (Minimum Viable Product)</h3>
              <span class="font-mono text-sm text-gray-500">Q1 2026</span>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">산출물 (Deliverables)</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 전체 4-layer 파이프라인 프로토타입 구현</li>
                  <li>• PnP, MediaPipe, YOLO, Material Inference 통합</li>
                  <li>• CLO3D API 기반 Synthetic Data Factory 1차 구축</li>
                  <li>• Deformation Engine 초기 학습 모델</li>
                  <li>• SMPL-X + IK 아바타 생성 검증</li>
                  <li>• SDXL + ControlNet 렌더링 테스트</li>
                </ul>
              </div>
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">검증 항목 (Validation)</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 전체 파이프라인 End-to-End 작동 여부</li>
                  <li>• 각 모듈 간 데이터 인터페이스 검증</li>
                  <li>• 합성 데이터 생성 속도 및 품질 확인</li>
                  <li>• 내부 테스트 데이터셋 기준 정성 평가</li>
                </ul>
                <h4 class="font-semibold text-gray-200 mt-6 mb-3">리스크 & 대응</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 모듈 통합 복잡도 → 인터페이스 명세 선행 작성</li>
                  <li>• CLO3D API 학습 곡선 → 전담 엔지니어 배치</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="relative pl-20">
          <div class="absolute left-0 top-0 w-16 h-16 rounded-2xl bg-success/10 border-2 border-success flex items-center justify-center">
            <span class="font-bold text-success text-xl">2</span>
          </div>
          <div class="bg-surface border border-border rounded-xl p-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="font-display font-bold text-2xl text-success">Phase 2: PoC (Proof of Concept)</h3>
              <span class="font-mono text-sm text-gray-500">Q2 2026</span>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">산출물</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 협력 쇼핑몰 파트너 확보 (1-2곳)</li>
                  <li>• A/B 테스트 환경 구축 (통제군 vs 실험군)</li>
                  <li>• 실사용 데이터 수집 파이프라인 구축</li>
                  <li>• 반품 사유 설문 시스템 연동</li>
                  <li>• 사용자 만족도 조사 프로세스 수립</li>
                  <li>• 기술 지표 모니터링 대시보드 구축</li>
                </ul>
              </div>
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">검증 항목</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 반품률 감소 여부 (사이즈/핏 불만족 사유)</li>
                  <li>• 가상피팅 전환율 측정</li>
                  <li>• 처리시간 측정 (상용화 가능 수준 여부)</li>
                  <li>• 합성 데이터 vs 실제 데이터 도메인 갭 분석</li>
                  <li>• 사용자 주관적 만족도 (NPS, 리커트 척도)</li>
                </ul>
                <h4 class="font-semibold text-gray-200 mt-6 mb-3">리스크 & 대응</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 파트너사 확보 난항 → 다각도 네트워킹</li>
                  <li>• 실사용 데이터 수집량 부족 → 합성 데이터 비중 유지</li>
                  <li>• 도메인 갭 문제 → 도메인 적응(Domain Adaptation) 기법 적용</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="relative pl-20">
          <div class="absolute left-0 top-0 w-16 h-16 rounded-2xl bg-accent-2/10 border-2 border-accent-2 flex items-center justify-center">
            <span class="font-bold text-accent-2 text-xl">3</span>
          </div>
          <div class="bg-surface border border-border rounded-xl p-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="font-display font-bold text-2xl text-accent-2">Phase 3: Pilot (Limited Deployment)</h3>
              <span class="font-mono text-sm text-gray-500">Q3-Q4 2026</span>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">산출물</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 협력 쇼핑몰 3-5곳으로 확대</li>
                  <li>• 실시간 서비스 인프라 구축 (배치 → 준실시간)</li>
                  <li>• 합성 + 실제 데이터 혼합 학습 파이프라인</li>
                  <li>• Deformation Engine 2.0 (PoC 피드백 반영)</li>
                  <li>• 사용자 경험(UX) 개선 (응답속도, UI)</li>
                  <li>• 비즈니스 모델 검증 (과금 구조, 단가 등)</li>
                </ul>
              </div>
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">검증 항목</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 확장성(Scalability) 테스트 (동시 사용자 부하)</li>
                  <li>• 누적 사용자 피드백 정량 분석</li>
                  <li>• 비즈니스 지표 (매출 기여도, ROI)</li>
                  <li>• 경쟁사 대비 우위 평가 (정확도, 속도)</li>
                  <li>• 데이터 플라이휠 가동 여부 (재학습 주기 확립)</li>
                </ul>
                <h4 class="font-semibold text-gray-200 mt-6 mb-3">리스크 & 대응</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 인프라 비용 증가 → 클라우드 비용 최적화</li>
                  <li>• 사용자 이탈 → UX 개선, 응답속도 향상</li>
                  <li>• 경쟁사 등장 → 기술 장벽(Moat) 강화</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="relative pl-20">
          <div class="absolute left-0 top-0 w-16 h-16 rounded-2xl bg-warning/10 border-2 border-warning flex items-center justify-center">
            <span class="font-bold text-warning text-xl">4</span>
          </div>
          <div class="bg-surface border border-border rounded-xl p-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="font-display font-bold text-2xl text-warning">Phase 4: Scale (Full Commercialization)</h3>
              <span class="font-mono text-sm text-gray-500">2027+</span>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">산출물</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 다수 쇼핑몰/브랜드 대상 SaaS 플랫폼 출시</li>
                  <li>• API 제품화 (B2B 미들웨어 판매)</li>
                  <li>• 자동화된 Data Flywheel 전면 가동</li>
                  <li>• 글로벌 시장 진출 (해외 체형 데이터 추가)</li>
                  <li>• 추가 소재군 확장 (아웃도어, 언더웨어 등)</li>
                  <li>• 실시간 AR 가상피팅 통합 (모바일)</li>
                </ul>
              </div>
              <div>
                <h4 class="font-semibold text-gray-200 mb-3">검증 항목</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 대규모 트래픽 안정성 (99.9% uptime)</li>
                  <li>• 산업 표준 정확도 달성</li>
                  <li>• 비즈니스 성과 (ARR, 고객사 수)</li>
                  <li>• 브랜드 인지도 (시장 점유율)</li>
                  <li>• 지속적 기술 우위 유지 (특허, 노하우)</li>
                </ul>
                <h4 class="font-semibold text-gray-200 mt-6 mb-3">리스크 & 대응</h4>
                <ul class="space-y-2 text-sm text-gray-400">
                  <li>• 시장 포화 → 신규 유스케이스 발굴</li>
                  <li>• 규제 변화 → 법무 자문, 컴플라이언스 강화</li>
                  <li>• 기술 혁신 정체 → R&D 투자 지속</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="faq" class="relative py-24 border-t border-border">
  <div class="max-w-4xl mx-auto px-6">
    <div class="mb-16 reveal">
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-surface-2 rounded-full border border-border">
        <span class="w-2 h-2 bg-accent rounded-full"></span>
        <span class="text-sm font-mono text-gray-400">FAQ</span>
      </div>
      <h2 class="font-display font-bold text-4xl mt-6">TECHNICAL QUESTIONS</h2>
      <p class="text-gray-400 mt-3 text-lg">기술적 타당성 및 차별성 관련 핵심 질문</p>
    </div>
    <div class="space-y-4 reveal">
      <details class="bg-surface border border-border rounded-xl overflow-hidden group">
        <summary class="px-8 py-6 cursor-pointer font-display font-semibold text-lg hover:bg-surface-2 transition-colors flex items-center justify-between">
          Q1. 왜 기존 2D 워핑(warping) 방식이 한계인가요?
          <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="px-8 py-6 border-t border-border bg-deep/50">
          <p class="text-gray-400 leading-relaxed mb-4">2D 워핑은 이미지 픽셀을 기하학적으로 변형하는 방식으로, 의복 두께나 소재 특성을 전혀 고려하지 않습니다. 예를 들어, 두꺼운 패딩과 얇은 티셔츠가 같은 외곽선을 가지더라도 실제 신체 치수는 다릅니다. 또한 2D 워핑은 포즈 변화나 조명 차이에 취약하여 핏 일관성을 보장할 수 없습니다.</p>
          <p class="text-gray-400 leading-relaxed"><strong class="text-gray-200">Body-Fit AI의 접근:</strong> Volume-Offset Logic으로 의복 두께를 역산하고, Material Inference로 소재 특성을 추론하여 3D 물리 시뮬레이션과 연계. 이를 통해 "의복을 벗긴 상태의 신체 치수"를 복원하고, 다시 새 의복을 입혔을 때의 정확한 핏을 예측합니다.</p>
        </div>
      </details>

      <details class="bg-surface border border-border rounded-xl overflow-hidden group">
        <summary class="px-8 py-6 cursor-pointer font-display font-semibold text-lg hover:bg-surface-2 transition-colors flex items-center justify-between">
          Q2. 왜 미들웨어(Middleware)가 필요한가요? 비전과 3D를 바로 연결하면 안 되나요?
          <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="px-8 py-6 border-t border-border bg-deep/50">
          <p class="text-gray-400 leading-relaxed mb-4">비전 모델(YOLO, MediaPipe 등)은 2D 이미지 분석만 수행하고, 3D 물리 엔진(CLO3D)은 3D 공간의 메쉬와 물리 파라미터만 처리합니다. 이 둘 사이의 "번역(Translation)"이 없으면 파이프라인이 연결되지 않습니다.</p>
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">미들웨어의 역할:</strong></p>
          <ul class="list-disc list-inside space-y-2 text-gray-400 ml-4">
            <li><strong>Volume-Offset:</strong> 2D 외곽선 → 실측 3D 치수 변환</li>
            <li><strong>Material Inference:</strong> 이미지 텍스처 → 물리 시뮬 파라미터 매핑</li>
            <li><strong>Deformation Engine:</strong> 학습된 변형 패턴으로 시뮬 초기화 (warm-start)</li>
          </ul>
          <p class="text-gray-400 leading-relaxed mt-4">이 미들웨어 레이어가 독자 기술의 핵심이며, 기술 장벽(Moat)을 형성합니다.</p>
        </div>
      </details>

      <details class="bg-surface border border-border rounded-xl overflow-hidden group">
        <summary class="px-8 py-6 cursor-pointer font-display font-semibold text-lg hover:bg-surface-2 transition-colors flex items-center justify-between">
          Q3. 초기 데이터는 어떻게 확보하나요? 실제 데이터가 없으면 학습이 불가능하지 않나요?
          <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="px-8 py-6 border-t border-border bg-deep/50">
          <p class="text-gray-400 leading-relaxed mb-4">초기 단계에서는 <strong class="text-gray-200">CLO3D 기반 Synthetic Data Factory</strong>로 합성 데이터를 대량 생성합니다. CLO3D는 산업 표준 물리 시뮬레이션 엔진이므로, 생성된 데이터는 정확한 ground truth를 제공합니다.</p>
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">3-Phase 데이터 전략:</strong></p>
          <ol class="list-decimal list-inside space-y-2 text-gray-400 ml-4">
            <li><strong>Phase 1:</strong> 합성 데이터만으로 초기 모델 학습 (Deformation Engine, Material Inference)</li>
            <li><strong>Phase 2:</strong> PoC에서 실사용 데이터 소량 수집 → 도메인 갭 분석 및 보정</li>
            <li><strong>Phase 3:</strong> 합성(대량) + 실제(소량) 혼합 학습 → 지속적 플라이휠 구축</li>
          </ol>
          <p class="text-gray-400 leading-relaxed mt-4">합성 데이터의 장점: (1) 라벨링 100% 정확, (2) 희귀 케이스(특이 체형, 드문 소재) 생성 가능, (3) 데이터 증강 무한.</p>
        </div>
      </details>

      <details class="bg-surface border border-border rounded-xl overflow-hidden group">
        <summary class="px-8 py-6 cursor-pointer font-display font-semibold text-lg hover:bg-surface-2 transition-colors flex items-center justify-between">
          Q4. 처리 속도는 얼마나 빠른가요? 실시간 서비스가 가능한가요?
          <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="px-8 py-6 border-t border-border bg-deep/50">
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">현재 목표:</strong> 배치 처리 기준으로 상용 서비스 가능 수준 검증 예정 (PoC에서 측정). 정확한 처리시간은 확정되지 않았으며, 하드웨어 및 최적화 수준에 따라 달라집니다.</p>
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">속도 개선 전략:</strong></p>
          <ul class="list-disc list-inside space-y-2 text-gray-400 ml-4">
            <li><strong>Deformation Engine:</strong> warm-start로 물리 시뮬 반복 횟수 감소 목표</li>
            <li><strong>비동기 처리:</strong> 유저는 사진 업로드 후 결과를 나중에 확인 (이메일/푸시 알림)</li>
            <li><strong>캐싱:</strong> 동일 아이템에 대한 사전 시뮬레이션 결과 재사용</li>
            <li><strong>GPU 가속:</strong> 추론 및 렌더링 단계 병렬화</li>
          </ul>
          <p class="text-gray-400 leading-relaxed mt-4">Pilot 단계에서는 준실시간(수 분 이내) 목표, Scale 단계에서 실시간 AR 통합 계획.</p>
        </div>
      </details>

      <details class="bg-surface border border-border rounded-xl overflow-hidden group">
        <summary class="px-8 py-6 cursor-pointer font-display font-semibold text-lg hover:bg-surface-2 transition-colors flex items-center justify-between">
          Q5. 경쟁사(범용 가상피팅) 대비 차별점은 무엇인가요?
          <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="px-8 py-6 border-t border-border bg-deep/50">
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">대부분의 기존 솔루션:</strong> 2D 워핑 기반이거나, 범용 3D 아바타에 의류를 단순 입히는 방식. 소재별 핏 차이를 학습하지 못하고, 사진 1장만으로는 정확도 보장 어려움.</p>
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">Body-Fit AI의 차별점:</strong></p>
          <ol class="list-decimal list-inside space-y-3 text-gray-400 ml-4">
            <li><strong>사진 1장 기반:</strong> PnP + Volume-Offset으로 실측 치수 복원 (다각도 촬영 불필요)</li>
            <li><strong>소재별 핏 학습:</strong> Material Inference + Deformation Engine으로 "면 티셔츠 vs 니트 스웨터" 같은 핏 차이를 학습·반영</li>
            <li><strong>물리 시뮬 기반:</strong> 기하학적 정확도 + 물리적 사실성 동시 확보</li>
            <li><strong>독자 미들웨어:</strong> 비전-물리 번역 레이어를 모듈화하여 B2B API 제품화 가능 (범용 엔진 대비 특화)</li>
            <li><strong>데이터 플라이휠:</strong> 합성 데이터 공장으로 지속 개선 루프 구축 (경쟁사 모방 어려움)</li>
          </ol>
        </div>
      </details>

      <details class="bg-surface border border-border rounded-xl overflow-hidden group">
        <summary class="px-8 py-6 cursor-pointer font-display font-semibold text-lg hover:bg-surface-2 transition-colors flex items-center justify-between">
          Q6. 측정 정확도는 얼마나 되나요?
          <svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="px-8 py-6 border-t border-border bg-deep/50">
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">현 단계:</strong> 확정된 정확도 수치는 없습니다. PoC에서 A/B 테스트 및 반품 사유 설문을 통해 "반품률 감소 여부"를 간접적으로 측정 예정입니다.</p>
          <p class="text-gray-400 leading-relaxed mb-4"><strong class="text-gray-200">정확도 정의의 어려움:</strong> 가상피팅의 목표는 "mm 단위 정확도"가 아니라 "유저가 핏을 예측 가능하게 하여 반품을 줄이는 것"입니다. 따라서 절대 오차보다는 <strong>비즈니스 지표(반품률, 전환율)</strong>로 검증합니다.</p>
          <p class="text-gray-400 leading-relaxed"><strong class="text-gray-200">검증 계획:</strong> PoC에서 협력 쇼핑몰의 실제 반품 데이터를 분석하여, "사이즈/핏 불만족" 사유가 유의미하게 감소하는지 측정. 이것이 기술적 성공의 지표입니다.</p>
        </div>
      </details>
    </div>
  </div>
</section>

<footer class="relative py-16 border-t border-border">
  <div class="max-w-7xl mx-auto px-6">
    <div class="grid md:grid-cols-3 gap-12">
      <div>
        <div class="flex items-center gap-3 mb-4">
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-accent to-accent-2 flex items-center justify-center font-bold text-deep text-xl">BF</div>
          <div>
            <div class="font-display font-bold text-xl">Body-Fit AI</div>
            <div class="font-mono text-xs text-gray-500">Middleware Architecture</div>
          </div>
        </div>
        <p class="text-gray-400 text-sm leading-relaxed">
          사진 1장 기반 체형 복원 + 가상피팅 자동화 미들웨어 설계. 비전-물리 번역 기술로 핏 예측 정확도 향상 목표.
        </p>
      </div>
      <div>
        <h4 class="font-display font-bold mb-4">핵심 기술 모듈</h4>
        <ul class="space-y-2 text-sm text-gray-400">
          <li>• PnP Calibration & Scale</li>
          <li>• YOLO Segmentation</li>
          <li>• Material Inference (ViT/Swin)</li>
          <li>• Volume-Offset Logic ★</li>
          <li>• Deformation Engine ★</li>
          <li>• Synthetic Data Factory ★</li>
          <li>• SMPL-X & IK</li>
          <li>• CLO3D Automation</li>
          <li>• SDXL + ControlNet</li>
        </ul>
      </div>

      <div>
        <h4 class="font-display font-bold mb-4">검증 계획</h4>
        <div class="space-y-3 text-sm text-gray-400">
          <div>
            <div class="font-semibold text-gray-300">PoC 지표 (측정 예정)</div>
            <div>반품률 감소, 전환율, 처리시간</div>
          </div>
          <div>
            <div class="font-semibold text-gray-300">검증 방식</div>
            <div>A/B 테스트, 반품 사유 설문</div>
          </div>
          <div>
            <div class="font-semibold text-gray-300">데이터 전략</div>
            <div>합성 → PoC 실사용 → 혼합 학습</div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-12 pt-8 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4">
      <div class="text-sm text-gray-500 font-mono">
        Technical Architecture Documentation v1.0 | For Evaluation Purpose
      </div>
      <div class="flex items-center gap-6 text-sm text-gray-500">
        <span></span>
        <span class="font-mono">2026</span>
      </div>
    </div>

    <div class="mt-8 p-6 rounded-xl bg-deep border border-warning/30">
      <div class="flex items-start gap-3">
        <svg class="w-6 h-6 text-warning flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
        </svg>
        <div class="text-sm text-gray-400">
          <strong class="text-warning">주의:</strong> 본 문서의 모든 수치 및 성능 지표는 "측정 예정" 또는 "Target" 수준이며, 확정된 결과가 아닙니다. PoC 단계에서 실제 측정을 통해 검증될 예정입니다. 과장된 주장이나 확정 표현은 포함되지 않았습니다.
        </div>
      </div>
    </div>
  </div>
</footer>

<script>
// Scroll reveal animation
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -100px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('active');
    }
  });
}, observerOptions);

document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

// Scrollytelling Logic (Updated for Sticky + Non-overlapping)
(() => {
  const track = document.getElementById('hTrack');
  const spacer = document.getElementById('storySpacer');
  const panels = Array.from(document.querySelectorAll('#hTrack .panel'));
  
  if (!track || !spacer || panels.length === 0) return;

  const meta = [
    { step:'01', title:'PnP Calibration', desc:'참조 객체 기반 스케일 추정(픽셀→mm 변환) 기초 단계.', bullets:['Reference plane(A4/marker)','Camera pose & scale','Guide-based capture'], out:'scale_factor, camera_pose' },
    { step:'02', title:'YOLO Segmentation', desc:'인물/의복 영역을 분리하고 카테고리 컨텍스트를 확보.', bullets:['Instance segmentation','Garment category','Region-of-interest'], out:'mask, category, bbox' },
    { step:'03', title:'Material Inference', desc:'주름/음영 패턴으로 소재군·두께 특성을 확률적으로 추정.', bullets:['Wrinkle frequency','Thickness bucket','Confidence score'], out:'material_bucket, thickness_level' },
    { step:'04', title:'Deformation Engine', desc:'변형 학습 모델이 Warm-start 파라미터를 산출해 시뮬을 가속.', bullets:['Neural surrogate','Warm-start params','Quality stabilization'], out:'warm_start_params' },
    { step:'05', title:'Synthetic Data Factory', desc:'물리 시뮬 기반 합성 데이터 생성→학습→검증의 플라이휠.', bullets:['Sim → Dataset','Train → Deploy','PoC measure'], out:'deformation_dataset_v1' },
    { step:'06', title:'GenAI Synthesis', desc:'Edge/Depth 가이드를 활용해 핏 정보가 유지되도록 합성.', bullets:['Control constraints','Photoreal enhancement','Consistency'], out:'final_render' },
  ];

  const stepEl = document.getElementById('storyStep');
  const titleEl = document.getElementById('storyTitle');
  const descEl = document.getElementById('storyDesc');
  const bulletsEl = document.getElementById('storyBullets');
  const outEl = document.getElementById('storyOutput');
  const dotsEl = document.getElementById('storyDots');

  // Initialize Dots
  if (dotsEl) {
    dotsEl.innerHTML = meta.map((_, i) =>
      `<span class="w-2 h-2 rounded-full transition-all duration-300 ${i===0?'bg-accent w-4':'bg-border'}"></span>`
    ).join('');
  }

  const setActive = (idx) => {
    if(idx < 0) idx = 0;
    if(idx >= meta.length) idx = meta.length - 1;

    const m = meta[idx];
    if (stepEl) stepEl.textContent = m.step;
    if (titleEl) titleEl.textContent = m.title;
    if (descEl) descEl.textContent = m.desc;
    if (bulletsEl) bulletsEl.innerHTML = m.bullets.map(x=>`<li>• ${x}</li>`).join('');
    if (outEl) outEl.textContent = m.out;
    
    if (dotsEl) {
      Array.from(dotsEl.children).forEach((d,i) => {
        if(i === idx) {
          d.className = 'w-4 h-2 rounded-full bg-accent transition-all duration-300';
        } else {
          d.className = 'w-2 h-2 rounded-full bg-border transition-all duration-300';
        }
      });
    }
  };

  // Scroll Calculation
  const container = track.parentElement; 
  let maxShift = 0;

  const clamp = (v, a, b) => Math.min(Math.max(v, a), b);

  const recalc = () => {
    // track.scrollWidth가 패널들을 다 합친 길이
    // container.clientWidth가 보여지는 창의 길이
    maxShift = track.scrollWidth - container.clientWidth;
  };

  const onScroll = () => {
    const rect = spacer.getBoundingClientRect();
    const viewH = window.innerHeight;
    
    // 스크롤 영역 계산
    const startPoint = viewH * 0.8; 
    const endPoint = -rect.height + viewH;

    const distance = startPoint - rect.top;
    const totalDistance = startPoint - endPoint;
    
    let progress = distance / totalDistance;
    progress = clamp(progress, 0, 1);

    const shiftPx = progress * maxShift;
    
    // Move Track
    track.style.transform = `translateX(${-shiftPx}px)`;

    // Update Active State
    const panelCount = panels.length;
    const idx = Math.min(Math.floor(progress * panelCount), panelCount - 1);
    setActive(idx);
  };

  recalc();
  window.addEventListener('resize', () => { recalc(); onScroll(); }, { passive: true });
  window.addEventListener('scroll', onScroll, { passive: true });

  // SVG Definitions with preserveAspectRatio applied
  const svg = {
    pnp: `
<svg viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet" class="w-full h-full">
  <defs>
    <linearGradient id="gA" x1="0" x2="1">
      <stop offset="0" stop-color="#00d4ff" stop-opacity="0.25"/>
      <stop offset="1" stop-color="#7c3aed" stop-opacity="0.25"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="b"/>
      <feMerge>
        <feMergeNode in="b"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  <rect x="0" y="0" width="900" height="420" fill="#12121a"/>
  <g opacity="0.15">
    ${Array.from({length:18}).map((_,i)=>`<line x1="0" y1="${i*24}" x2="900" y2="${i*24}" stroke="#00d4ff" />`).join('')}
    ${Array.from({length:24}).map((_,i)=>`<line x1="${i*38}" y1="0" x2="${i*38}" y2="420" stroke="#00d4ff" />`).join('')}
  </g>
  <g transform="translate(110,210)" filter="url(#glow)">
    <polygon points="0,0 70,-45 70,45" fill="none" stroke="#00d4ff" stroke-width="3"/>
    <circle cx="88" cy="0" r="18" fill="none" stroke="#00d4ff" stroke-width="3"/>
    <text x="-10" y="78" fill="#9ca3af" font-family="JetBrains Mono" font-size="14">Camera</text>
  </g>
  <line x1="198" y1="210" x2="690" y2="135" stroke="#00d4ff" stroke-width="2" stroke-dasharray="8 8" opacity="0.7"/>
  <g transform="translate(650,80) skewY(6)">
    <rect x="0" y="0" width="170" height="240" fill="url(#gA)" stroke="#7c3aed" stroke-width="3"/>
    <text x="16" y="26" fill="#e5e7eb" font-family="JetBrains Mono" font-size="14">Reference Plane (A4)</text>
    <text x="16" y="52" fill="#9ca3af" font-family="JetBrains Mono" font-size="12">PnP / Homography</text>
  </g>
  ${[
    [660,92,'P1'],[805,102,'P2'],[670,315,'P3'],[815,325,'P4']
  ].map(([x,y,t])=>`
    <g>
      <circle cx="${x}" cy="${y}" r="7" fill="#00d4ff" opacity="0.9"/>
      <circle cx="${x}" cy="${y}" r="18" fill="none" stroke="#00d4ff" opacity="0.35" stroke-width="2"/>
      <text x="${x+14}" y="${y-10}" fill="#00d4ff" font-family="JetBrains Mono" font-size="12">${t}</text>
    </g>
  `).join('')}
  <g transform="translate(290,300)">
    <rect x="0" y="0" width="320" height="86" rx="12" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="18" y="28" fill="#9ca3af" font-family="JetBrains Mono" font-size="12">Concept</text>
    <text x="18" y="54" fill="#e5e7eb" font-family="JetBrains Mono" font-size="14">pixel → mm (scale_factor)</text>
    <text x="18" y="74" fill="#9ca3af" font-family="JetBrains Mono" font-size="12">output: camera_pose, scale_factor</text>
  </g>
</svg>`,
    seg: `
<svg viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet" class="w-full h-full">
  <defs>
    <linearGradient id="mask" x1="0" x2="1">
      <stop offset="0" stop-color="#00d4ff" stop-opacity="0.35"/>
      <stop offset="1" stop-color="#7c3aed" stop-opacity="0.35"/>
    </linearGradient>
  </defs>
  <rect x="0" y="0" width="900" height="420" fill="#12121a"/>
  <g transform="translate(330,40)">
    <circle cx="120" cy="70" r="52" fill="#1a1a24" stroke="#2a2a38" stroke-width="3"/>
    <path d="M70,140 Q120,110 170,140 L210,200 L190,330 Q120,360 50,330 L30,200 Z" fill="#1a1a24" stroke="#2a2a38" stroke-width="3"/>
    <path d="M70,160 Q120,130 170,160 L205,210 L188,320 Q120,345 52,320 L35,210 Z" fill="url(#mask)" stroke="#00d4ff" stroke-width="3"/>
    <rect x="28" y="120" width="214" height="230" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="6 6"/>
  </g>
  <g font-family="JetBrains Mono" font-size="14">
    <rect x="48" y="44" width="210" height="40" rx="10" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="62" y="70" fill="#00d4ff">YOLOv8-seg</text>
    <rect x="48" y="96" width="280" height="112" rx="12" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="62" y="126" fill="#9ca3af">outputs</text>
    <text x="62" y="150" fill="#e5e7eb">mask, bbox, category</text>
    <text x="62" y="174" fill="#e5e7eb">confidence_score</text>
    <text x="62" y="198" fill="#9ca3af">ROI for next stage</text>
  </g>
  <g transform="translate(560,300)" font-family="JetBrains Mono" font-size="12">
    <rect x="0" y="0" width="300" height="92" rx="12" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="16" y="28" fill="#9ca3af">category (example)</text>
    <text x="16" y="52" fill="#7c3aed">HOODIE</text>
    <text x="120" y="52" fill="#10b981">conf: (measured in PoC)</text>
    <text x="16" y="74" fill="#9ca3af">mask guides material/offset</text>
  </g>
</svg>`,
    mat: `
<svg viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet" class="w-full h-full">
  <defs>
    <linearGradient id="heat" x1="0" x2="1">
      <stop offset="0" stop-color="#00d4ff" stop-opacity="0.35"/>
      <stop offset="1" stop-color="#f59e0b" stop-opacity="0.35"/>
    </linearGradient>
  </defs>
  <rect width="900" height="420" fill="#12121a"/>
  <g transform="translate(60,70)" font-family="JetBrains Mono">
    <text x="0" y="-18" fill="#9ca3af" font-size="12">Wrinkle Frequency (concept)</text>
    <path d="M0,120 C60,60 120,180 180,120 C240,60 300,180 360,120 C420,60 480,180 540,120" fill="none" stroke="#00d4ff" stroke-width="3"/>
    <path d="M0,160 C60,140 120,180 180,160 C240,140 300,180 360,160 C420,140 480,180 540,160" fill="none" stroke="#7c3aed" stroke-width="3" opacity="0.8"/>
    <rect x="0" y="200" width="540" height="140" rx="14" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="18" y="232" fill="#9ca3af" font-size="12">ViT / Swin Transformer</text>
    <text x="18" y="260" fill="#e5e7eb" font-size="14">infer: thickness / stiffness / density (prob.)</text>
    <text x="18" y="290" fill="#9ca3af" font-size="12">outputs: material_bucket, thickness_level</text>
    <text x="18" y="320" fill="#9ca3af" font-size="12">used by: Volume-Offset / Deformation Engine</text>
  </g>
  <g transform="translate(650,70)">
    <rect x="0" y="0" width="190" height="190" rx="16" fill="url(#heat)" stroke="#2a2a38"/>
    ${Array.from({length:6}).map((_,i)=>Array.from({length:6}).map((__,j)=>{
      const o=(i+j)%3===0?0.55:0.25;
      return `<rect x="${14+j*28}" y="${14+i*28}" width="22" height="22" rx="6" fill="#0a0a0f" opacity="${o}"/>`;
    }).join('')).join('')}
    <text x="0" y="220" fill="#9ca3af" font-family="JetBrains Mono" font-size="12">Shadow/Texture cues</text>
  </g>
</svg>`,
    def: `
<svg viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet" class="w-full h-full">
  <defs>
    <linearGradient id="pipe" x1="0" x2="1">
      <stop offset="0" stop-color="#00d4ff" stop-opacity="0.25"/>
      <stop offset="1" stop-color="#7c3aed" stop-opacity="0.25"/>
    </linearGradient>
  </defs>
  <rect width="900" height="420" fill="#12121a"/>
  <g font-family="JetBrains Mono">
    <text x="60" y="70" fill="#9ca3af" font-size="12">Deformation Engine (learned surrogate, concept)</text>
    <rect x="60" y="105" width="210" height="110" rx="16" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="78" y="140" fill="#e5e7eb" font-size="14">Inputs</text>
    <text x="78" y="165" fill="#9ca3af" font-size="12">material_bucket</text>
    <text x="78" y="186" fill="#9ca3af" font-size="12">body_params (SMPL-X)</text>
    <text x="78" y="207" fill="#9ca3af" font-size="12">pose (from IK)</text>

    <rect x="345" y="90" width="210" height="140" rx="16" fill="url(#pipe)" stroke="#00d4ff" stroke-width="2"/>
    <text x="365" y="128" fill="#00d4ff" font-size="14">Neural Surrogate</text>
    <text x="365" y="154" fill="#0a0a0f" font-size="12">predict deformation hints</text>
    <text x="365" y="176" fill="#0a0a0f" font-size="12">(warm-start params)</text>

    <rect x="630" y="105" width="210" height="110" rx="16" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="648" y="140" fill="#e5e7eb" font-size="14">Outputs</text>
    <text x="648" y="165" fill="#9ca3af" font-size="12">warm_start_params</text>
    <text x="648" y="186" fill="#9ca3af" font-size="12">stability hints</text>

    <path d="M270,160 L345,160" stroke="#10b981" stroke-width="3" marker-end="url(#a)"/>
    <path d="M555,160 L630,160" stroke="#10b981" stroke-width="3" marker-end="url(#a)"/>
    <defs>
      <marker id="a" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
        <polygon points="0,0 10,4 0,8" fill="#10b981"/>
      </marker>
    </defs>

    <rect x="60" y="255" width="780" height="120" rx="18" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="82" y="290" fill="#9ca3af" font-size="12">Idea</text>
    <text x="82" y="318" fill="#e5e7eb" font-size="14">Use learned deformation hints to initialize physics simulation (warm-start)</text>
    <text x="82" y="346" fill="#9ca3af" font-size="12">Goal: reduce iteration + stabilize draping — measured in PoC (no fixed claim)</text>
  </g>
</svg>`,
    factory: `
<svg viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet" class="w-full h-full">
  <rect width="900" height="420" fill="#12121a"/>
  <g font-family="JetBrains Mono">
    <text x="60" y="70" fill="#9ca3af" font-size="12">Synthetic Data Factory (CLO3D-based)</text>
    <g transform="translate(140,115)">
      <circle cx="250" cy="120" r="110" fill="none" stroke="#00d4ff" stroke-width="3" opacity="0.5"/>
      <circle cx="250" cy="120" r="150" fill="none" stroke="#7c3aed" stroke-width="2" opacity="0.35" stroke-dasharray="8 8"/>
      ${[
        ['CLO3D Sim',250,10,'#00d4ff'],
        ['Dataset',390,120,'#10b981'],
        ['Train',250,230,'#f59e0b'],
        ['Deploy',110,120,'#7c3aed'],
      ].map(([t,x,y,c])=>`
        <g>
          <circle cx="${x}" cy="${y}" r="42" fill="#0a0a0f" stroke="${c}" stroke-width="3"/>
          <text x="${x}" y="${y+5}" fill="#e5e7eb" font-size="12" text-anchor="middle">${t}</text>
        </g>
      `).join('')}
      <path d="M250,52 C330,70 350,80 368,105" fill="none" stroke="#10b981" stroke-width="3"/>
      <path d="M348,150 C320,210 300,220 250,230" fill="none" stroke="#f59e0b" stroke-width="3"/>
      <path d="M210,230 C160,210 135,190 120,150" fill="none" stroke="#7c3aed" stroke-width="3"/>
      <path d="M120,105 C140,70 190,55 250,52" fill="none" stroke="#00d4ff" stroke-width="3"/>
    </g>
    <rect x="560" y="120" width="300" height="240" rx="18" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="580" y="150" fill="#e5e7eb" font-size="14">Why it matters</text>
    <text x="580" y="178" fill="#9ca3af" font-size="12">• early-stage data scarcity mitigation</text>
    <text x="580" y="202" fill="#9ca3af" font-size="12">• material-fit pair structured outputs</text>
    <text x="580" y="226" fill="#9ca3af" font-size="12">• supports Deformation Engine training</text>
    <text x="580" y="250" fill="#9ca3af" font-size="12">• PoC feedback loop → refine</text>
  </g>
</svg>`,
    gen: `
<svg viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet" class="w-full h-full">
  <rect width="900" height="420" fill="#12121a"/>
  <g font-family="JetBrains Mono">
    <text x="60" y="70" fill="#9ca3af" font-size="12">GenAI Synthesis (SDXL + ControlNet)</text>

    <rect x="60" y="110" width="220" height="250" rx="18" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="80" y="145" fill="#e5e7eb" font-size="14">Inputs</text>
    <text x="80" y="175" fill="#9ca3af" font-size="12">3D render / mesh</text>
    <text x="80" y="200" fill="#9ca3af" font-size="12">Canny edge</text>
    <text x="80" y="225" fill="#9ca3af" font-size="12">Depth map</text>
    <text x="80" y="250" fill="#9ca3af" font-size="12">prompt (style)</text>

    <rect x="340" y="140" width="220" height="190" rx="18" fill="none" stroke="#00d4ff" stroke-width="3"/>
    <text x="360" y="170" fill="#00d4ff" font-size="14">ControlNet</text>
    <text x="360" y="200" fill="#9ca3af" font-size="12">constraints keep fit</text>

    <rect x="620" y="110" width="220" height="250" rx="18" fill="#0a0a0f" stroke="#2a2a38"/>
    <text x="640" y="145" fill="#e5e7eb" font-size="14">Output</text>
    <text x="640" y="175" fill="#9ca3af" font-size="12">photoreal image</text>
    <text x="640" y="200" fill="#9ca3af" font-size="12">fit-consistent render</text>
    <text x="640" y="225" fill="#9ca3af" font-size="12">(quality measured in PoC)</text>

    <path d="M280,235 L340,235" stroke="#10b981" stroke-width="3" marker-end="url(#b)"/>
    <path d="M560,235 L620,235" stroke="#10b981" stroke-width="3" marker-end="url(#b)"/>
    <defs>
      <marker id="b" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
        <polygon points="0,0 10,4 0,8" fill="#10b981"/>
      </marker>
    </defs>

    <g transform="translate(350,250)" opacity="0.9">
      <path d="M10,40 L90,40 L95,70 L90,100 L10,100 L5,70 Z" fill="none" stroke="#00d4ff" stroke-width="2"/>
      <circle cx="50" cy="20" r="18" fill="none" stroke="#00d4ff" stroke-width="2"/>
      <rect x="120" y="10" width="90" height="90" rx="12" fill="url(#d)" stroke="#7c3aed"/>
      <defs>
        <linearGradient id="d" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0" stop-color="#ffffff" stop-opacity="0.2"/>
          <stop offset="1" stop-color="#000000" stop-opacity="0.35"/>
        </linearGradient>
      </defs>
    </g>
  </g>
</svg>`
  };

  const mount = (id, html) => { const el=document.getElementById(id); if(el) el.innerHTML = html; };
  mount('svgPnp', svg.pnp);
  mount('svgSeg', svg.seg);
  mount('svgMat', svg.mat);
  mount('svgDef', svg.def);
  mount('svgFactory', svg.factory);
  mount('svgGen', svg.gen);

})();
</script>
</body>
</html>